(this["webpackJsonpxplog-typescript"]=this["webpackJsonpxplog-typescript"]||[]).push([[0],{41:function(e,t,a){e.exports=a.p+"static/media/John-Doe.71da2e9c.jpg"},46:function(e,t,a){e.exports=a(76)},73:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),o=a.n(c),i=a(10),s=a(12),l=a(16),u=a(3),m=a(44),d=JSON.parse(localStorage.getItem("users"))||[];var E,p=a(15),f=a(37),v=a(38),b=a(39);!function(e){e[e.GET_ENTRIES_REQUEST=0]="GET_ENTRIES_REQUEST",e[e.GET_ENTRIES_SUCCESS=1]="GET_ENTRIES_SUCCESS",e[e.GET_ENTRIES_FAILURE=2]="GET_ENTRIES_FAILURE",e[e.ADD_ENTRY=3]="ADD_ENTRY",e[e.EDIT_ENTRY=4]="EDIT_ENTRY",e[e.REMOVE_ENTRY=5]="REMOVE_ENTRY",e[e.GET_ENTRY_BY_ID=6]="GET_ENTRY_BY_ID",e[e.REGISTER_REQUEST=7]="REGISTER_REQUEST",e[e.REGISTER_SUCCESS=8]="REGISTER_SUCCESS",e[e.REGISTER_FAILURE=9]="REGISTER_FAILURE",e[e.LOGIN_REQUEST=10]="LOGIN_REQUEST",e[e.LOGIN_SUCCESS=11]="LOGIN_SUCCESS",e[e.LOGIN_FAILURE=12]="LOGIN_FAILURE",e[e.LOGOUT=13]="LOGOUT",e[e.LOGOUT_SUCCESS=14]="LOGOUT_SUCCESS",e[e.LOGOUT_FAILURE=15]="LOGOUT_FAILURE",e[e.GET_USERS_REQUEST=16]="GET_USERS_REQUEST",e[e.GET_USERS_SUCCESS=17]="GET_USERS_SUCCESS",e[e.GET_USERS_FAILURE=18]="GET_USERS_FAILURE",e[e.EDIT_USER_REQUEST=19]="EDIT_USER_REQUEST",e[e.EDIT_USER_SUCCESS=20]="EDIT_USER_SUCCESS",e[e.EDIT_USER_FAILURE=21]="EDIT_USER_FAILURE",e[e.REMOVE_USER_REQUEST=22]="REMOVE_USER_REQUEST",e[e.REMOVE_USER_SUCCESS=23]="REMOVE_USER_SUCCESS",e[e.REMOVE_USER_FAILURE=24]="REMOVE_USER_FAILURE"}(E||(E={}));var S=a(4);function h(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t[r.type]?t[r.type](a,r.payload):a}}var y,O,g,N=JSON.parse(localStorage.getItem("user")||"{}"),j=h({user:N||{},loggingIn:!1,error:void 0},(y={},Object(S.a)(y,E.LOGIN_REQUEST,(function(e,t){return{loggingIn:!0,user:t}})),Object(S.a)(y,E.LOGIN_SUCCESS,(function(e,t){return Object(u.a)({},e,{user:t,loggingIn:!1})})),Object(S.a)(y,E.LOGIN_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),Object(S.a)(y,E.LOGOUT,(function(e){return Object(u.a)({},e,{loggingIn:!1})})),Object(S.a)(y,E.LOGOUT_SUCCESS,(function(e){return Object(u.a)({},e)})),Object(S.a)(y,E.LOGOUT_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),y)),R=h({entries:[{id:484937,title:"Setup een lokaal project",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484938,title:"Live- / testomgeving synchroniseren",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484939,title:"Drupal 7 (module) updates",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484940,title:"Drupal 8 (module) updates",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484941,title:"Drupal 8",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484942,title:"Drupal EHBO",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484943,title:"Jira rechten systeem",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342},{id:484944,title:"Klanten toegang geven tot nog wat",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342},{id:484945,title:"Issue types",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342},{id:484946,title:"Jira Project aanmaken",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342},{id:484947,title:"Feature requests Jira",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342}],error:void 0},(O={},Object(S.a)(O,E.GET_ENTRIES_SUCCESS,(function(e,t){var a=e.entries.concat(t);return Object(u.a)({},e,{entries:a})})),Object(S.a)(O,E.GET_ENTRIES_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),Object(S.a)(O,E.ADD_ENTRY,(function(e,t){var a=e.entries.concat(t);return Object(u.a)({},e,{entries:a})})),Object(S.a)(O,E.EDIT_ENTRY,(function(e,t){var a=e.entries.map((function(e){return e.id===t.id?Object(u.a)({},e,{},t):e}));return Object(u.a)({},e,{entries:a})})),Object(S.a)(O,E.REMOVE_ENTRY,(function(e,t){return console.log("removing item by id:",t),Object(u.a)({},e,{entries:e.entries.filter((function(e){return e.id!==t}))})})),Object(S.a)(O,E.GET_ENTRY_BY_ID,(function(e,t){return Object(u.a)({},e,{entries:e.entries.filter((function(e){return e.id!==t}))})})),O)),T=h({users:[],loading:!1,deleting:!1,registering:!1,error:void 0,editing:!1},(g={},Object(S.a)(g,E.REGISTER_REQUEST,(function(e,t){return Object(u.a)({},e,{registering:t})})),Object(S.a)(g,E.REGISTER_SUCCESS,(function(e,t){var a=e.users.concat(t);return Object(u.a)({},e,{users:a,registering:!1})})),Object(S.a)(g,E.REGISTER_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t,registering:!1})})),Object(S.a)(g,E.GET_USERS_REQUEST,(function(e){return Object(u.a)({},e,{loading:!0})})),Object(S.a)(g,E.GET_USERS_SUCCESS,(function(e,t){return Object(u.a)({},e,{users:t,loading:!1})})),Object(S.a)(g,E.GET_USERS_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),Object(S.a)(g,E.EDIT_USER_REQUEST,(function(e,t){return Object(u.a)({},e,{editing:t})})),Object(S.a)(g,E.EDIT_USER_SUCCESS,(function(e,t){var a=e.users.map((function(e){return e.id===t.id?Object(u.a)({},e,{},t):e}));return Object(u.a)({},e,{users:a,editing:!1})})),Object(S.a)(g,E.EDIT_USER_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t,editing:!1})})),Object(S.a)(g,E.REMOVE_USER_REQUEST,(function(e){return Object(u.a)({},e,{deleting:!0})})),Object(S.a)(g,E.REMOVE_USER_SUCCESS,(function(e,t){return Object(u.a)({},e,{deleting:!1,users:e.users.filter((function(e){return e.id!==t}))})})),Object(S.a)(g,E.REMOVE_USER_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),g)),_=Object(p.combineReducers)({authenticationReducer:j,entryReducer:R,userReducer:T}),I=l.c,U=_,C=function(e){return"number"===typeof e.type&&E[e.type]?{type:E[e.type],payload:e.payload}:e},w=Object(v.createLogger)({actionTransformer:C}),L=Object(b.composeWithDevTools)({actionSanitizer:C}),k=Object(p.createStore)(U,L(Object(p.applyMiddleware)(w,f.a)));function G(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var A="/",D="/entries",x="/entries/new",F="/entries/:id",M="/admin",J="/login",Q="/settings",q="/profile",P=a(7),V=a.n(P),Y=a(14),B=a(40),z=a.n(B).a.create({baseURL:"http://jsonplaceholder.typicode.com/CANCEL"}),W=function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("posts");case 3:return t=e.sent,e.abrupt("return",k.dispatch($(t.data)));case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",k.dispatch(H(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(e){return{type:E.GET_ENTRIES_SUCCESS,payload:e}},H=function(e){return{type:E.GET_ENTRIES_FAILURE,payload:e}},K=function(e){return{type:E.ADD_ENTRY,payload:e}},X=function(e){return{type:E.EDIT_ENTRY,payload:e}},Z=function(e){return{type:E.REMOVE_ENTRY,payload:e}},ee=(a(73),function(e){return n.a.createElement("div",{className:"wrapper"},e.children)}),te=a(2),ae=a(78),re=a(79),ne=a(80),ce=a(81),oe=a(82),ie=a(83),se=a(84),le=a(85),ue=a(86),me=a(87),de=[n.a.createElement(ae.a,null),n.a.createElement(re.a,null),n.a.createElement(ne.a,null),n.a.createElement(ce.a,null)],Ee=[n.a.createElement(oe.a,null),n.a.createElement(ie.a,null)],pe=[n.a.createElement(se.a,null),n.a.createElement(le.a,null)],fe=[n.a.createElement(ue.a,null),n.a.createElement(me.a,null)],ve=a(41),be=a.n(ve),Se=function(){var e=Object(te.a)(de,4),t=e[0],a=e[1],r=e[2],c=e[3];return n.a.createElement("nav",{role:"navigation",className:"navbar"},n.a.createElement("div",{className:"logo"},n.a.createElement(i.c,{exact:!0,to:A,className:"logo"},"Super")),n.a.createElement("div",{className:"main"},n.a.createElement(i.c,{exact:!0,to:A,className:"route"},n.a.createElement("i",{className:"icon"},t)),n.a.createElement(i.c,{to:D,className:"route"},n.a.createElement("i",{className:"icon"},a)),n.a.createElement(i.c,{exact:!0,to:M,className:"route"},n.a.createElement("i",{className:"icon"},r)),n.a.createElement(i.c,{exact:!0,to:Q,className:"route"},n.a.createElement("i",{className:"icon"},c))),n.a.createElement("div",{className:"profile"},n.a.createElement(i.c,{exact:!0,to:q,className:"route"},n.a.createElement("img",{src:be.a,alt:"John Doe"}))))},he=function(e){return n.a.createElement("div",{className:"wrapper"},n.a.createElement(Se,null),e.children)},ye=a(20),Oe=function(e){var t=e.component,a=e.layout,r=Object(ye.a)(e,["component","layout"]);return n.a.createElement(s.b,Object.assign({},r,{render:function(e){return n.a.createElement(a,null,n.a.createElement(t,e))}}))},ge=function(e){var t=e.component,a=e.layout,r=Object(ye.a)(e,["component","layout"]);if(!t)throw Error("component is undefined");return n.a.createElement(s.b,Object.assign({},r,{render:function(e){return localStorage.getItem("user")?n.a.createElement(a,null,n.a.createElement(t,e)):n.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};function Ne(e){var t=Object(r.useState)(e),a=Object(te.a)(t,2),n=a[0],c=a[1];return[n,function(e){c(Object(u.a)({},n,Object(S.a)({},e.target.id,e.target.value)))},function(){c(e)}]}var je=function(e){var t=e.searchTerm,a=e.handleFieldChange,c=e.setNewMode,o=e.count,i=e.filter,s=e.changeFilter,l=Object(te.a)(Ee,2),u=(l[0],l[1]),m=Object(r.useState)(0),d=Object(te.a)(m,2),E=d[0],p=d[1];return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"header-state"},n.a.createElement("div",{className:"header-state-title"},"Activities"),n.a.createElement("div",{className:"header-state-count"},n.a.createElement("i",null,o)),n.a.createElement("div",{className:"header-state-new"},n.a.createElement("a",{onClick:function(){return c(!0)}},u))),n.a.createElement("div",{className:"header-search"},n.a.createElement("input",{type:"text",placeholder:"Search for activity",id:"searchTerm",value:t,onChange:a})),n.a.createElement("div",{className:"header-filter"},i.map((function(e,t){return n.a.createElement("div",{key:t,className:E===t?"item selected":"item",onClick:function(){return function(e){p(e),s(e)}(t)}},e)}))))},Re=function(e){var t=e.entries,a=e.selected,r=e.setSelected,c=e.setNewMode;return n.a.createElement("div",{className:"list"},t.map((function(e){return n.a.createElement("div",{key:e.id},n.a.createElement("div",{className:e.id===a.id?"list-item selected":"list-item",onClick:function(){return function(e){r(e),c(!1)}(e)}},n.a.createElement("div",{className:"list-item-icon"},n.a.createElement("a",null,"SE")),n.a.createElement("div",{className:"list-item-data"},n.a.createElement("div",{className:"list-item-title"},e.title),n.a.createElement("div",{className:"list-item-read-time"},"5 minutes read"))))})))},Te=function(e){var t=e.collapseStatus,a=e.setCollapseStatus,r=Object(te.a)(pe,2),c=r[0],o=r[1];return n.a.createElement("div",{className:"collapsible",onClick:function(){return a(!t)}},t?o:c)},_e=l.b,Ie=function(e){var t=e.selected,a=t.id,c=t.title,o=t.body,i=t.date,s=t.categoryId,l=t.userId,u=e.selected,m=e.setSelected,d=e.setDeleting,E=_e(),p=Ne({id:a,title:c,body:o,categoryId:s,date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),userId:l}),f=Object(te.a)(p,3),v=f[0],b=f[1],S=f[2],h=Object(r.useState)(!1),y=Object(te.a)(h,2),O=y[0],g=y[1],N=Object(te.a)(fe,2),j=N[0],R=N[1],T=Object(r.useState)(0),_=Object(te.a)(T,2),I=_[0],U=_[1];Object(r.useEffect)((function(){g(!1),S(u)}),[u]),Object(r.useEffect)((function(){if(O){var e=setTimeout((function(){return E(X(v))}),1e3);return function(){clearTimeout(e),m(u)}}}),[v.title,v.body]);return n.a.createElement("div",null,n.a.createElement("div",{className:"sideview-functions"},n.a.createElement("div",{className:"item"},"Last edit at ",i),n.a.createElement("div",{className:O?"item edit active":"item edit",onClick:function(){return g(!O)}},j),n.a.createElement("div",{className:"item delete",onClick:function(){d(!0),E(Z(a))}},R)),n.a.createElement("div",{className:"sideview-item"},n.a.createElement("div",{className:"sideview-item-menus"},n.a.createElement("div",{className:"tabs"},["Activity","My Notes","Goal"].map((function(e,t){return n.a.createElement("div",{key:t,className:t===I?"tab selected":"tab"},n.a.createElement("a",{onClick:function(){return U(t)}},e))}))),n.a.createElement("div",{className:"complete"},n.a.createElement("input",{type:"submit",value:"click to complete"}))),n.a.createElement("div",{className:"sideview-content"},n.a.createElement("div",{className:"sideview-content-title"},n.a.createElement("input",{id:"title",placeholder:"Add title...",value:v.title,onChange:b,disabled:!O})),n.a.createElement("div",{className:"sideview-content-body"},n.a.createElement("textarea",{id:"body",placeholder:"Description...",value:v.body,onChange:b,disabled:!O})))))},Ue=function(e){var t=e.setNewMode,a=e.setSelected,c=_e(),o=Ne({id:Math.floor(1e4*Math.random()),title:"",body:"",categoryId:1,date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),userId:13}),i=Object(te.a)(o,2),s=i[0],l=i[1],u=Object(r.useState)(0),m=Object(te.a)(u,2),d=m[0],E=m[1];return n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(K(s)),t(!1),a(s)}},n.a.createElement("div",{className:"sideview-functions"},n.a.createElement("div",{className:"item"})),n.a.createElement("div",{className:"sideview-item"},n.a.createElement("div",{className:"sideview-item-menus"},n.a.createElement("div",{className:"tabs"},["Activity","Goal"].map((function(e,t){return n.a.createElement("div",{key:t,className:t===d?"tab selected":"tab"},n.a.createElement("a",{onClick:function(){return E(t)}},e))}))),n.a.createElement("div",{className:"complete"},n.a.createElement("input",{type:"submit",value:"save"}))),n.a.createElement("div",{className:"sideview-content"},n.a.createElement("div",{className:"sideview-content-title"},n.a.createElement("input",{id:"title",placeholder:"Add title...",value:s.title,onChange:l})),n.a.createElement("div",{className:"sideview-content-body"},n.a.createElement("textarea",{id:"body",placeholder:"Description...",value:s.body,onChange:l})))))},Ce=function(){var e=I((function(e){return e.entryReducer.entries})),t=Object(r.useState)(e[0]),a=Object(te.a)(t,2),c=a[0],o=a[1],i=Object(r.useState)(e),s=Object(te.a)(i,2),l=s[0],u=s[1],m=Object(r.useState)(!1),d=Object(te.a)(m,2),E=d[0],p=d[1],f=Object(r.useState)(!1),v=Object(te.a)(f,2),b=v[0],S=v[1],h=Object(r.useState)(!1),y=Object(te.a)(h,2),O=y[0],g=y[1],N=Ne({searchTerm:""}),j=Object(te.a)(N,2),R=j[0],T=j[1];Object(r.useEffect)((function(){var t=e.filter((function(e){return Object.keys(e).some((function(t){if(null!==e[t]){var a=e[t].toString().toLowerCase(),r=R.searchTerm.toLowerCase();return a.includes(r)}}))}));u(t)}),[R.searchTerm]),Object(r.useEffect)((function(){u(e),O&&(o(e[0]),g(!1)),console.log(c)}),[e]);var _=Object(r.useState)(n.a.createElement(Ie,{selected:c,setSelected:o,setDeleting:g})),U=Object(te.a)(_,2),C=U[0],w=U[1];Object(r.useEffect)((function(){w(E?n.a.createElement(Ue,{setNewMode:p,setSelected:o}):n.a.createElement(Ie,{selected:c,setSelected:o,setDeleting:g}))}),[c,E]);return n.a.createElement("section",{className:b?"activities-page collapsed":"activities-page"},n.a.createElement("div",{className:"content-left"},n.a.createElement(je,{searchTerm:R.searchTerm,handleFieldChange:T,setNewMode:p,count:e.length,filter:["all","drupal","jira"],changeFilter:function(e){console.log("ello",e)}}),n.a.createElement(Re,{entries:l,searchTerm:R.searchTerm,setSearchResults:u,selected:c,setSelected:o,setNewMode:p})),n.a.createElement("div",{className:"content-collapse"},n.a.createElement(Te,{collapseStatus:b,setCollapseStatus:S})),n.a.createElement("div",{className:"content-right"},C))},we={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("/users/authenticate",a).then(ke).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:Le,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/users/register",t).then(ke)},getAll:function(){var e={method:"GET",headers:G()};return fetch("/users",e).then(ke)},getById:function(e){var t={method:"GET",headers:G()};return fetch("/users/".concat(e),t).then(ke)},update:function(e){var t={method:"PUT",headers:Object(u.a)({},G(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("/users/".concat(e.id),t).then(ke)},delete:function(e){var t={method:"DELETE",headers:G()};return fetch("/users/".concat(e),t).then(ke)}};function Le(){localStorage.removeItem("user")}function ke(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&Le();var r=a&&a.message||e.statusText;return Promise.reject(r)}return a}))}var Ge=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(Ae()),e.prev=1,e.next=4,we.register(t);case 4:return a=e.sent,e.abrupt("return",k.dispatch(De(a)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",k.dispatch(xe(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){return{type:E.REGISTER_REQUEST,payload:!0}},De=function(e){return{type:E.REGISTER_SUCCESS,payload:e}},xe=function(e){return{type:E.REGISTER_FAILURE,payload:e}},Fe=function(){var e=Object(Y.a)(V.a.mark((function e(t,a){var r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(Me(t.username)),e.prev=1,e.next=4,we.login(t.username,t.password);case 4:r=e.sent,k.dispatch(Je(r)),a.push("/"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",k.dispatch(Qe(e.t0)));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Me=function(e){return{type:E.LOGIN_REQUEST,payload:e}},Je=function(e){return{type:E.LOGIN_SUCCESS,payload:e}},Qe=function(e){return{type:E.LOGIN_FAILURE,payload:e}},qe=function(){var e=Object(Y.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,we.logout(),k.dispatch(Pe()),e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",k.dispatch(Ve(e.t0)));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(){return{type:E.LOGOUT,payload:void 0}},Ve=function(e){return{type:E.LOGOUT,payload:e}},Ye=function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(Be()),e.prev=1,e.next=4,we.getAll();case 4:return t=e.sent,e.abrupt("return",k.dispatch(ze(t)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",k.dispatch(We(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){return{type:E.GET_USERS_REQUEST,payload:void 0}},ze=function(e){return{type:E.GET_USERS_SUCCESS,payload:e}},We=function(e){return{type:E.GET_USERS_FAILURE,payload:e}},$e=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(He(!0)),e.prev=1,e.next=4,we.update(t);case 4:return e.sent,e.abrupt("return",k.dispatch(Ke(t)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",k.dispatch(Xe(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),He=function(e){return{type:E.EDIT_USER_REQUEST,payload:e}},Ke=function(e){return{type:E.EDIT_USER_SUCCESS,payload:e}},Xe=function(e){return{type:E.EDIT_USER_FAILURE,payload:e}},Ze=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(et(t)),e.prev=1,we.delete(t),e.abrupt("return",k.dispatch(tt(t)));case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",k.dispatch(at(e.t0)));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),et=function(e){return{type:E.REMOVE_USER_REQUEST,payload:e}},tt=function(e){return{type:E.REMOVE_USER_SUCCESS,payload:e}},at=function(e){return{type:E.REMOVE_USER_FAILURE,payload:e}},rt=function(e){var t=Object.assign({},e);return n.a.createElement("input",t)},nt=function(e){var t=Ne({username:"",password:""}),a=Object(te.a)(t,2),c=a[0],o=a[1],i=Object(r.useState)(!1),s=Object(te.a)(i,2),l=s[0],u=s[1];Object(r.useEffect)((function(){qe()}),[]);return n.a.createElement("div",{className:"login-wrapper"},n.a.createElement("div",{className:"login-form"},n.a.createElement("h1",{className:"login-text"},"Supervise"),n.a.createElement("form",{name:"form",className:"form",onSubmit:function(t){t.preventDefault(),u(!0),c&&Fe(c,e.history)}},n.a.createElement("div",{className:"form-group"+(l&&!c.username?" has-error":"")},n.a.createElement(rt,{id:"username",name:"username",className:"form-control",placeholder:"example@student.nhlstenden.com",value:c.username,onChange:o}),l&&!c.username&&n.a.createElement("div",{className:"help-block"},"Username is required")),n.a.createElement("div",{className:"form-group"+(l&&!c.password?" has-error":"")},n.a.createElement(rt,{type:"password",id:"password",name:"password",className:"form-control",placeholder:"************",value:c.password,onChange:o}),l&&!c.password&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary"},"Login")))))},ct=function(){var e=I((function(e){return e.userReducer.users})),t=Object(r.useState)(!1),a=Object(te.a)(t,2),c=a[0],o=a[1],i={id:0,firstName:"",lastName:"",username:"",password:"",role:0},s=Object(r.useState)(i),l=Object(te.a)(s,2),m=l[0],d=l[1],E=Object(r.useState)(!1),p=Object(te.a)(E,2),f=p[0],v=p[1];Object(r.useEffect)((function(){Ye()}),[]),Object(r.useEffect)((function(){c||d(i)}),[c]);return n.a.createElement("section",{className:"admin-page"},n.a.createElement("form",{name:"form",className:"register-form",onSubmit:function(e){e.preventDefault(),v(!0),m&&!c?(Ge(m),d(i)):$e(m)}},n.a.createElement("h2",null,"New user"),n.a.createElement("div",{className:"form-group"+(f&&!m.firstName?" has-error":"")},n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement(rt,{id:"firstName",name:"firstName",className:"form-control",value:m.firstName,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{firstName:t.value}))}}),f&&!m.firstName&&n.a.createElement("div",{className:"help-block"},"First Name is required")),n.a.createElement("div",{className:"form-group"+(f&&!m.lastName?" has-error":"")},n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement(rt,{id:"lastName",name:"lastName",className:"form-control",value:m.lastName,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{lastName:t.value}))}}),f&&!m.lastName&&n.a.createElement("div",{className:"help-block"},"Last Name is required")),n.a.createElement("div",{className:"form-group"+(f&&!m.username?" has-error":"")},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement(rt,{id:"username",name:"username",className:"form-control",value:m.username,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{username:t.value}))}}),f&&!m.username&&n.a.createElement("div",{className:"help-block"},"Username is required")),n.a.createElement("div",{className:"form-group"+(f&&!m.password?" has-error":"")},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement(rt,{type:"password",id:"password",name:"password",className:"form-control",value:m.password,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{password:t.value}))}}),f&&!m.password&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"role"},"Role"),n.a.createElement("select",{id:"role",value:m.role,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{role:+t.value}))}},n.a.createElement("option",{value:"0"},"User"),n.a.createElement("option",{value:"1"},"Admin"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary"},c?"Edit":"Add new"," ",0==m.role?"User":"Admin"),c&&n.a.createElement("button",{onClick:function(){return o(!1)}},"Cancel"))),n.a.createElement("h3",null,"All registered users:"),e&&n.a.createElement("ul",null,e.map((function(e){return n.a.createElement("li",{key:e.id},n.a.createElement("a",{onClick:function(){return function(e){o(!0),d(e)}(e)}},e.firstName+" "+e.lastName+" | role: "+e.role),n.a.createElement("span",null," ","- ",n.a.createElement("a",{onClick:function(){return t=e.id,void Ze(t);var t}},"Delete")))}))))},ot=function(e){return n.a.createElement(i.b,{className:"entry-wrapper",to:{pathname:"/entries/".concat(e.id),state:{id:e.id,title:e.title,body:e.body,date:e.date,userId:e.userId}}},n.a.createElement("div",{className:"date"},e.date),n.a.createElement("div",{className:"entry"},n.a.createElement("div",{className:"entry-header"},n.a.createElement("div",{className:"title"},e.title),n.a.createElement("div",{className:"comments"})),n.a.createElement("div",{className:"body",dangerouslySetInnerHTML:{__html:e.body}})))},it=function(e){var t=_e(),a=Ne({id:e.id,title:e.title,body:e.body,date:e.date,userId:e.userId}),c=Object(te.a)(a,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){t(X(o))}),[o.title,e.title]),n.a.createElement("div",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(rt,{id:"title",placeholder:"Titel...",value:o.title,onChange:i}))))},st=a(45),lt=function(e){var t=I((function(e){return e.entryReducer.entries})),a=Ne({searchTerm:""}),c=Object(te.a)(a,2),o=c[0],i=c[1],s=Object(r.useState)(t),l=Object(te.a)(s,2),u=l[0],m=l[1];Object(r.useEffect)((function(){var e=t.filter((function(e){return Object.keys(e).some((function(t){if(null!==e[t]){var a=e[t].toString().toLowerCase(),r=o.searchTerm.toLowerCase();return a.includes(r)}}))}));m(e)}),[o.searchTerm]),Object(r.useEffect)((function(){m(t)}),[t]);return n.a.createElement("section",{className:"entries-page"},n.a.createElement("div",{className:"entries"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"left"},n.a.createElement("h1",null,"Entries"),n.a.createElement("button",{onClick:function(){e.history.push(x)}},"add new")),n.a.createElement("div",{className:"right"},n.a.createElement(rt,{placeholder:"Search...",id:"searchTerm",value:o.searchTerm,onChange:i}))),n.a.createElement(st.a,{className:"sortable",list:u,setList:m},u.map((function(e){return n.a.createElement(ot,{key:e.id,id:e.id,title:e.title,body:e.body,date:e.date,categoryId:e.categoryId,userId:e.id,searchTerm:o.searchTerm})})))),n.a.createElement("div",{className:"entries-test"},u.map((function(e){return n.a.createElement(it,{key:e.id,id:e.id,title:e.title,body:e.body,date:e.date,categoryId:e.categoryId,userId:e.id,searchTerm:o.searchTerm})}))))},ut=a(35),mt=a.n(ut),dt=(a(75),{mode:"classic",fontSize:[8,10,14,18,24,36],formats:["p","blockquote","h1","h2","h3"],colorList:[["#ff0000","#ff5e00","#ffe400","#abf200"],["#00d8ff","#0055ff","#6600ff","#ff00dd"]],buttonList:[["formatBlock","fontSize","bold","underline","fontColor","hiliteColor","outdent","indent","align","horizontalRule","list","table","link","image","video","codeView","fullScreen","showBlocks","print"]],resizingBar:!1}),Et=function(e){var t=_e(),a=e.location.state,c=a.id,o=a.title,i=a.body,s=(a.date,a.userId),l=Object(r.useState)(i),m=Object(te.a)(l,2),d=m[0],E=m[1],p=Ne({id:c,title:o,body:i,date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),userId:s}),f=Object(te.a)(p,2),v=f[0],b=f[1];Object(r.useEffect)((function(){var e=setTimeout((function(){return t(X(Object(u.a)({},v,{body:d})))}),1e3);return function(){clearTimeout(e)}}),[d,v.title]);return n.a.createElement("section",{className:"edit-entry"},n.a.createElement("form",{className:"entry-editor"},n.a.createElement("div",{className:"entry-form"},n.a.createElement("div",{className:"title-input"},n.a.createElement(rt,{id:"title",placeholder:"Titel...",value:v.title,onChange:b})),n.a.createElement("div",{className:"body-input"},n.a.createElement(mt.a,{setContents:i,setOptions:dt,onChange:function(e){return function(e){E(e)}(e)}})),n.a.createElement("button",{className:"option",type:"reset",value:"Reset",onClick:function(){t(Z(e.location.state.id)),e.history.push(D)}},"Verwijderen"))))},pt=function(e){var t=_e(),a=Object(r.useState)(""),c=Object(te.a)(a,2),o=c[0],i=c[1],s=Ne({id:Math.floor(1e4*Math.random()),title:"",body:"",date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),userId:13}),l=Object(te.a)(s,2),m=l[0],d=l[1];return n.a.createElement("section",{className:"edit-entry"},n.a.createElement("form",{className:"entry-editor",onSubmit:function(a){a.preventDefault(),t(K(Object(u.a)({},m,{body:o}))),e.history.push(D)}},n.a.createElement("div",{className:"entry-form"},n.a.createElement("div",{className:"title-input"},n.a.createElement(rt,{id:"title",placeholder:"Titel...",value:m.title,onChange:d})),n.a.createElement("div",{className:"body-input"},n.a.createElement(mt.a,{setContents:m.body,setOptions:dt,onChange:function(e){return function(e){i(e)}(e)}})),n.a.createElement("input",{className:"option",type:"submit",value:"Plaatsen"}))))},ft=function(e){return n.a.createElement("section",{className:"settings-page"},"Hallo wereld - Settings")},vt=function(){var e=I((function(e){return e.authenticationReducer.user})),t=e.username,a=e.firstName,r=e.lastName;return n.a.createElement("section",{className:"profile-page"},n.a.createElement("div",null,t),n.a.createElement("div",null,a),n.a.createElement("div",null,r),n.a.createElement("div",null,"password"),n.a.createElement("div",null,"repeat password"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=window.fetch;window.fetch=function(t,a){return new Promise((function(r,n){setTimeout((function(){if(t.endsWith("/users/authenticate")&&"POST"===a.method){var c=JSON.parse(a.body),o=d.filter((function(e){return e.username===c.username&&e.password===c.password}));if(o.length){var i=o[0],s={id:i.id,username:i.username,firstName:i.firstName,lastName:i.lastName,token:"fake-jwt-token"};r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(s))}})}else n("Username or password is incorrect")}else if(t.endsWith("/users")&&"GET"===a.method)a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization?r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(d))}}):n("Unauthorised");else if(t.match(/\/users\/\d+$/)&&"GET"===a.method)if(a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization){var l=t.split("/"),E=parseInt(l[l.length-1]),p=d.filter((function(e){return e.id===E})),f=p.length?p[0]:null;r({ok:!0,text:function(){return JSON.stringify(f)}})}else n("Unauthorised");else{if(t.endsWith("/users/register")&&"POST"===a.method){var v=JSON.parse(a.body);return d.filter((function(e){return e.username===v.username})).length?void n('Username "'+v.username+'" is already taken'):(v.id=d.length?Math.max.apply(Math,Object(m.a)(d.map((function(e){return e.id}))))+1:1,d.push(v),localStorage.setItem("users",JSON.stringify(d)),void r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(v))}}))}if(t.match(/\/users\/\d+$/)&&"PUT"===a.method){var b=JSON.parse(a.body);if(d.filter((function(e){if(e.id!==b.id)return e.username===b.username})).length)return void n('Username "'+b.username+'" is already taken');var S=d.map((function(e){return e.id===b.id?Object(u.a)({},e,{},b):e}));return d=S,localStorage.setItem("users",JSON.stringify(d)),void r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(d))}})}if(t.match(/\/users\/\d+$/)&&"DELETE"===a.method)if(a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization){for(var h=t.split("/"),y=parseInt(h[h.length-1]),O=0;O<d.length;O++){if(d[O].id===y){d.splice(O,1),localStorage.setItem("users",JSON.stringify(d));break}}r({ok:!0,text:function(){return Promise.resolve()}})}else n("Unauthorised");else e(t,a).then((function(e){return r(e)}))}}),500)}))}}(),o.a.render(n.a.createElement(l.a,{store:k},n.a.createElement(i.a,null,n.a.createElement(s.d,null,n.a.createElement(Oe,{exact:!0,path:A,component:Ce,layout:he}),n.a.createElement(Oe,{exact:!0,path:M,component:ct,layout:he}),n.a.createElement(ge,{exact:!0,path:D,component:lt,layout:he}),n.a.createElement(ge,{exact:!0,path:x,component:pt,layout:he}),n.a.createElement(ge,{exact:!0,path:F,component:Et,layout:he}),n.a.createElement(ge,{exact:!0,path:Q,component:ft,layout:he}),n.a.createElement(ge,{exact:!0,path:q,component:vt,layout:he}),n.a.createElement(Oe,{exact:!0,path:J,component:nt,layout:ee})))),document.getElementById("root")),W(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.aa049794.chunk.js.map