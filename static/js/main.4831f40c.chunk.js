(this["webpackJsonpxplog-typescript"]=this["webpackJsonpxplog-typescript"]||[]).push([[0],{41:function(e,t,a){e.exports=a.p+"static/media/John-Doe.71da2e9c.jpg"},46:function(e,t,a){e.exports=a(76)},73:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(18),i=a.n(c),o=a(10),s=a(12),l=a(16),u=a(2),m=a(44),d=JSON.parse(localStorage.getItem("users"))||[];var E,p=a(15),f=a(37),v=a(38),b=a(39);!function(e){e[e.GET_ENTRIES_REQUEST=0]="GET_ENTRIES_REQUEST",e[e.GET_ENTRIES_SUCCESS=1]="GET_ENTRIES_SUCCESS",e[e.GET_ENTRIES_FAILURE=2]="GET_ENTRIES_FAILURE",e[e.ADD_ENTRY=3]="ADD_ENTRY",e[e.EDIT_ENTRY=4]="EDIT_ENTRY",e[e.REMOVE_ENTRY=5]="REMOVE_ENTRY",e[e.GET_ENTRY_BY_ID=6]="GET_ENTRY_BY_ID",e[e.REGISTER_REQUEST=7]="REGISTER_REQUEST",e[e.REGISTER_SUCCESS=8]="REGISTER_SUCCESS",e[e.REGISTER_FAILURE=9]="REGISTER_FAILURE",e[e.LOGIN_REQUEST=10]="LOGIN_REQUEST",e[e.LOGIN_SUCCESS=11]="LOGIN_SUCCESS",e[e.LOGIN_FAILURE=12]="LOGIN_FAILURE",e[e.LOGOUT=13]="LOGOUT",e[e.LOGOUT_SUCCESS=14]="LOGOUT_SUCCESS",e[e.LOGOUT_FAILURE=15]="LOGOUT_FAILURE",e[e.GET_USERS_REQUEST=16]="GET_USERS_REQUEST",e[e.GET_USERS_SUCCESS=17]="GET_USERS_SUCCESS",e[e.GET_USERS_FAILURE=18]="GET_USERS_FAILURE",e[e.EDIT_USER_REQUEST=19]="EDIT_USER_REQUEST",e[e.EDIT_USER_SUCCESS=20]="EDIT_USER_SUCCESS",e[e.EDIT_USER_FAILURE=21]="EDIT_USER_FAILURE",e[e.REMOVE_USER_REQUEST=22]="REMOVE_USER_REQUEST",e[e.REMOVE_USER_SUCCESS=23]="REMOVE_USER_SUCCESS",e[e.REMOVE_USER_FAILURE=24]="REMOVE_USER_FAILURE"}(E||(E={}));var y=a(4);function S(e,t){return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return t[r.type]?t[r.type](a,r.payload):a}}var h,N,O,g=JSON.parse(localStorage.getItem("user")||"{}"),R=S({user:g||{},loggingIn:!1,error:void 0},(h={},Object(y.a)(h,E.LOGIN_REQUEST,(function(e,t){return{loggingIn:!0,user:t}})),Object(y.a)(h,E.LOGIN_SUCCESS,(function(e,t){return Object(u.a)({},e,{user:t,loggingIn:!1})})),Object(y.a)(h,E.LOGIN_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),Object(y.a)(h,E.LOGOUT,(function(e){return Object(u.a)({},e,{loggingIn:!1})})),Object(y.a)(h,E.LOGOUT_SUCCESS,(function(e){return Object(u.a)({},e)})),Object(y.a)(h,E.LOGOUT_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),h)),j=S({entries:[{id:484937,title:"Setup een lokaal project",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484938,title:"Live- / testomgeving synchroniseren",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484939,title:"Drupal 7 (module) updates",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484940,title:"Drupal 8 (module) updates",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484941,title:"Drupal 8",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484942,title:"Drupal EHBO",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:3,userId:342},{id:484943,title:"Jira rechten systeem",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342},{id:484944,title:"Klanten toegang geven tot nog wat",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342},{id:484945,title:"Issue types",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342},{id:484946,title:"Jira Project aanmaken",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342},{id:484947,title:"Feature requests Jira",body:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",date:"mrt 17, 2020",categoryId:4,userId:342}],error:void 0},(N={},Object(y.a)(N,E.GET_ENTRIES_SUCCESS,(function(e,t){var a=e.entries.concat(t);return Object(u.a)({},e,{entries:a})})),Object(y.a)(N,E.GET_ENTRIES_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),Object(y.a)(N,E.ADD_ENTRY,(function(e,t){var a=e.entries.concat(t);return Object(u.a)({},e,{entries:a})})),Object(y.a)(N,E.EDIT_ENTRY,(function(e,t){var a=e.entries.map((function(e){return e.id===t.id?Object(u.a)({},e,{},t):e}));return Object(u.a)({},e,{entries:a})})),Object(y.a)(N,E.REMOVE_ENTRY,(function(e,t){return console.log("removing item by id:",t),Object(u.a)({},e,{entries:e.entries.filter((function(e){return e.id!==t}))})})),Object(y.a)(N,E.GET_ENTRY_BY_ID,(function(e,t){return Object(u.a)({},e,{entries:e.entries.filter((function(e){return e.id!==t}))})})),N)),T=S({users:[],loading:!1,deleting:!1,registering:!1,error:void 0,editing:!1},(O={},Object(y.a)(O,E.REGISTER_REQUEST,(function(e,t){return Object(u.a)({},e,{registering:t})})),Object(y.a)(O,E.REGISTER_SUCCESS,(function(e,t){var a=e.users.concat(t);return Object(u.a)({},e,{users:a,registering:!1})})),Object(y.a)(O,E.REGISTER_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t,registering:!1})})),Object(y.a)(O,E.GET_USERS_REQUEST,(function(e){return Object(u.a)({},e,{loading:!0})})),Object(y.a)(O,E.GET_USERS_SUCCESS,(function(e,t){return Object(u.a)({},e,{users:t,loading:!1})})),Object(y.a)(O,E.GET_USERS_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),Object(y.a)(O,E.EDIT_USER_REQUEST,(function(e,t){return Object(u.a)({},e,{editing:t})})),Object(y.a)(O,E.EDIT_USER_SUCCESS,(function(e,t){var a=e.users.map((function(e){return e.id===t.id?Object(u.a)({},e,{},t):e}));return Object(u.a)({},e,{users:a,editing:!1})})),Object(y.a)(O,E.EDIT_USER_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t,editing:!1})})),Object(y.a)(O,E.REMOVE_USER_REQUEST,(function(e){return Object(u.a)({},e,{deleting:!0})})),Object(y.a)(O,E.REMOVE_USER_SUCCESS,(function(e,t){return Object(u.a)({},e,{deleting:!1,users:e.users.filter((function(e){return e.id!==t}))})})),Object(y.a)(O,E.REMOVE_USER_FAILURE,(function(e,t){return Object(u.a)({},e,{error:t})})),O)),_=Object(p.combineReducers)({authenticationReducer:R,entryReducer:j,userReducer:T}),I=l.c,U=_,C=function(e){return"number"===typeof e.type&&E[e.type]?{type:E[e.type],payload:e.payload}:e},L=Object(v.createLogger)({actionTransformer:C}),w=Object(b.composeWithDevTools)({actionSanitizer:C}),k=Object(p.createStore)(U,w(Object(p.applyMiddleware)(L,f.a)));function G(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{Authorization:"Bearer "+e.token}:{}}var A="/",D="/entries",x="/entries/new",F="/entries/:id",M="/admin",J="/login",Q="/settings",q="/profile",P=a(7),V=a.n(P),Y=a(14),B=a(40),z=a.n(B).a.create({baseURL:"http://jsonplaceholder.typicode.com/CANCEL"}),W=function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.get("posts");case 3:return t=e.sent,e.abrupt("return",k.dispatch($(t.data)));case 7:return e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",k.dispatch(H(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(e){return{type:E.GET_ENTRIES_SUCCESS,payload:e}},H=function(e){return{type:E.GET_ENTRIES_FAILURE,payload:e}},K=function(e){return{type:E.ADD_ENTRY,payload:e}},X=function(e){return{type:E.EDIT_ENTRY,payload:e}},Z=function(e){return{type:E.REMOVE_ENTRY,payload:e}},ee=(a(73),function(e){return n.a.createElement("div",{className:"wrapper"},e.children)}),te=a(3),ae=a(78),re=a(79),ne=a(80),ce=a(81),ie=a(82),oe=a(83),se=a(84),le=a(85),ue=[n.a.createElement(ae.a,null),n.a.createElement(re.a,null),n.a.createElement(ne.a,null),n.a.createElement(ce.a,null)],me=[n.a.createElement(ie.a,null),n.a.createElement(oe.a,null)],de=[n.a.createElement(se.a,null),n.a.createElement(le.a,null)],Ee=a(41),pe=a.n(Ee),fe=function(){var e=Object(te.a)(ue,4),t=e[0],a=e[1],r=e[2],c=e[3];return n.a.createElement("nav",{role:"navigation",className:"navbar"},n.a.createElement("div",{className:"logo"},n.a.createElement(o.c,{exact:!0,to:A,className:"logo"},"Super")),n.a.createElement("div",{className:"main"},n.a.createElement(o.c,{exact:!0,to:A,className:"route"},n.a.createElement("i",{className:"icon"},t)),n.a.createElement(o.c,{to:D,className:"route"},n.a.createElement("i",{className:"icon"},a)),n.a.createElement(o.c,{exact:!0,to:q,className:"route"},n.a.createElement("i",{className:"icon"},r)),n.a.createElement(o.c,{exact:!0,to:Q,className:"route"},n.a.createElement("i",{className:"icon"},c)),n.a.createElement(o.c,{exact:!0,to:M,className:"route"},n.a.createElement("i",{className:"icon"},"\ue801"))),n.a.createElement("div",{className:"profile"},n.a.createElement("img",{src:pe.a,alt:"John Doe"})))},ve=function(e){return n.a.createElement("div",{className:"wrapper"},n.a.createElement(fe,null),e.children)},be=a(20),ye=function(e){var t=e.component,a=e.layout,r=Object(be.a)(e,["component","layout"]);return n.a.createElement(s.b,Object.assign({},r,{render:function(e){return n.a.createElement(a,null,n.a.createElement(t,e))}}))},Se=function(e){var t=e.component,a=e.layout,r=Object(be.a)(e,["component","layout"]);if(!t)throw Error("component is undefined");return n.a.createElement(s.b,Object.assign({},r,{render:function(e){return localStorage.getItem("user")?n.a.createElement(a,null,n.a.createElement(t,e)):n.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};function he(e){var t=Object(r.useState)(e),a=Object(te.a)(t,2),n=a[0],c=a[1];return[n,function(e){c(Object(u.a)({},n,Object(y.a)({},e.target.id,e.target.value)))}]}var Ne=function(e){var t=e.searchTerm,a=e.handleFieldChange,r=e.setMode,c=e.count,i=Object(te.a)(me,2),o=(i[0],i[1]);return n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"header-state"},n.a.createElement("div",{className:"header-state-title"},"Activities"),n.a.createElement("div",{className:"header-state-count"},n.a.createElement("i",null,c)),n.a.createElement("div",{className:"header-state-new"},n.a.createElement("a",{onClick:function(){return r(1)}},o))),n.a.createElement("div",{className:"header-search"},n.a.createElement("input",{type:"text",placeholder:"Search for activity",id:"searchTerm",value:t,onChange:a})),n.a.createElement("div",{className:"header-filter"},n.a.createElement("div",{className:"item selected"},"ALL"),n.a.createElement("div",{className:"item"},"DRUPAL"),n.a.createElement("div",{className:"item"},"JIRA")))},Oe=function(e){var t=e.entries,a=e.selected,r=e.setSelected,c=e.setMode;return n.a.createElement("div",{className:"activities"},t.map((function(e){return n.a.createElement("div",{key:e.id},n.a.createElement("div",{className:e.id===a.id?"activity selected":"activity",onClick:function(){return function(e){r(e),c(0)}(e)}},n.a.createElement("div",{className:"activity-icon"},n.a.createElement("a",null,"SE")),n.a.createElement("div",{className:"activity-data"},n.a.createElement("div",{className:"activity-title"},e.title),n.a.createElement("div",{className:"activity-read-time"},"5 minutes read"))))})))},ge=l.b,Re=function(e){var t=ge(),a=e.data,c=a.id,i=a.title,o=a.body,s=a.date,l=(a.categoryId,a.userId,e.setMode),u=Object(te.a)(de,2),m=u[0],d=u[1],E=Object(r.useState)(0),p=Object(te.a)(E,2),f=p[0],v=p[1];return n.a.createElement("div",null,n.a.createElement("div",{className:"activity-fn"},n.a.createElement("div",{className:"item"},"Last edit at ",s),n.a.createElement("div",{className:"item edit",onClick:function(){return l(2)}},m),n.a.createElement("div",{className:"item delete",onClick:function(){t(Z(c))}},d)),n.a.createElement("div",{className:"activity"},n.a.createElement("div",{className:"activity-menus"},["Activity","My Notes","Goal"].map((function(e,t){return n.a.createElement("div",{key:t,className:t===f?"item selected":"item"},n.a.createElement("a",{onClick:function(){return v(t)}},e))})),n.a.createElement("div",{className:"item complete"},n.a.createElement("input",{type:"submit",value:"click to complete"}))),n.a.createElement("div",{className:"activity-content"},n.a.createElement("div",{className:"activity-content-title"},i),n.a.createElement("div",{className:"activity-content-body"},o))))},je=function(e){var t=e.data,a=t.id,c=t.title,i=t.body,o=t.date,s=t.categoryId,l=t.userId,u=(e.setMode,e.setSelected,ge()),m=he({id:a,title:c,body:i,categoryId:s,date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),userId:l}),d=Object(te.a)(m,2),E=d[0],p=d[1],f=Object(r.useState)(0),v=Object(te.a)(f,2),b=v[0],y=v[1];Object(r.useEffect)((function(){var e=setTimeout((function(){return u(X(E))}),1e3);return function(){clearTimeout(e)}}),[E.title]);return n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u(X(E))}},n.a.createElement("div",{className:"activity-fn"},n.a.createElement("div",{className:"item"},"Last edit at ",o)),n.a.createElement("div",{className:"activity"},n.a.createElement("div",{className:"activity-menus"},["Activity","Goal"].map((function(e,t){return n.a.createElement("div",{key:t,className:t===b?"item selected":"item"},n.a.createElement("a",{onClick:function(){return y(t)}},e))})),n.a.createElement("div",{className:"item complete"})),n.a.createElement("div",{className:"activity-content"},n.a.createElement("div",{className:"activity-content-title"},n.a.createElement("input",{id:"title",placeholder:"Add title...",value:E.title,onChange:p})),n.a.createElement("div",{className:"activity-content-body"},n.a.createElement("textarea",{id:"body",placeholder:"Description...",value:E.body,onChange:p})))))},Te=function(e){var t=e.setMode,a=e.setSelected,c=ge(),i=he({id:Math.floor(1e4*Math.random()),title:"",body:"",categoryId:1,date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),userId:13}),o=Object(te.a)(i,2),s=o[0],l=o[1],u=Object(r.useState)(0),m=Object(te.a)(u,2),d=m[0],E=m[1];return n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),c(K(s)),t(0),a(s)}},n.a.createElement("div",{className:"activity-fn"},n.a.createElement("div",{className:"item"})),n.a.createElement("div",{className:"activity"},n.a.createElement("div",{className:"activity-menus"},["Activity","Goal"].map((function(e,t){return n.a.createElement("div",{key:t,className:t===d?"item selected":"item"},n.a.createElement("a",{onClick:function(){return E(t)}},e))})),n.a.createElement("div",{className:"item complete"},n.a.createElement("input",{type:"submit",value:"save"}))),n.a.createElement("div",{className:"activity-content"},n.a.createElement("div",{className:"activity-content-title"},n.a.createElement("input",{id:"title",placeholder:"Add title...",value:s.title,onChange:l})),n.a.createElement("div",{className:"activity-content-body"},n.a.createElement("textarea",{id:"body",placeholder:"Description...",value:s.body,onChange:l})))))},_e=function(){var e=I((function(e){return e.entryReducer.entries})),t=Object(r.useState)(e[0]),a=Object(te.a)(t,2),c=a[0],i=a[1],o=Object(r.useState)(e),s=Object(te.a)(o,2),l=s[0],u=s[1],m=Object(r.useState)(0),d=Object(te.a)(m,2),E=d[0],p=d[1],f=he({searchTerm:""}),v=Object(te.a)(f,2),b=v[0],y=v[1];Object(r.useEffect)((function(){var t=e.filter((function(e){return Object.keys(e).some((function(t){if(null!==e[t]){var a=e[t].toString().toLowerCase(),r=b.searchTerm.toLowerCase();return a.includes(r)}}))}));u(t)}),[b.searchTerm]),Object(r.useEffect)((function(){u(e),i(e[0])}),[e]);var S=Object(r.useState)(n.a.createElement(Re,{data:c,setMode:p})),h=Object(te.a)(S,2),N=h[0],O=h[1];return Object(r.useEffect)((function(){O(0===E?n.a.createElement(Re,{data:c,setMode:p}):1===E?n.a.createElement(Te,{setMode:p,setSelected:i}):n.a.createElement(je,{data:c,setMode:p,setSelected:i}))}),[E,c]),n.a.createElement("section",{className:"activities-page"},n.a.createElement("div",{className:"activities-left"},n.a.createElement(Ne,{searchTerm:b.searchTerm,handleFieldChange:y,setMode:p,count:e.length}),n.a.createElement(Oe,{entries:l,searchTerm:b.searchTerm,setSearchResults:u,selected:c,setSelected:i,setMode:p})),n.a.createElement("div",{className:"activities-right"},N))},Ie={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("/users/authenticate",a).then(Ce).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:Ue,register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch("/users/register",t).then(Ce)},getAll:function(){var e={method:"GET",headers:G()};return fetch("/users",e).then(Ce)},getById:function(e){var t={method:"GET",headers:G()};return fetch("/users/".concat(e),t).then(Ce)},update:function(e){var t={method:"PUT",headers:Object(u.a)({},G(),{"Content-Type":"application/json"}),body:JSON.stringify(e)};return fetch("/users/".concat(e.id),t).then(Ce)},delete:function(e){var t={method:"DELETE",headers:G()};return fetch("/users/".concat(e),t).then(Ce)}};function Ue(){localStorage.removeItem("user")}function Ce(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){401===e.status&&Ue();var r=a&&a.message||e.statusText;return Promise.reject(r)}return a}))}var Le=function(){var e=Object(Y.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(we()),e.prev=1,e.next=4,Ie.register(t);case 4:return a=e.sent,e.abrupt("return",k.dispatch(ke(a)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",k.dispatch(Ge(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){return{type:E.REGISTER_REQUEST,payload:!0}},ke=function(e){return{type:E.REGISTER_SUCCESS,payload:e}},Ge=function(e){return{type:E.REGISTER_FAILURE,payload:e}},Ae=function(){var e=Object(Y.a)(V.a.mark((function e(t,a){var r;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(De(t.username)),e.prev=1,e.next=4,Ie.login(t.username,t.password);case 4:r=e.sent,k.dispatch(xe(r)),a.push("/"),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",k.dispatch(Fe(e.t0)));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),De=function(e){return{type:E.LOGIN_REQUEST,payload:e}},xe=function(e){return{type:E.LOGIN_SUCCESS,payload:e}},Fe=function(e){return{type:E.LOGIN_FAILURE,payload:e}},Me=function(){var e=Object(Y.a)(V.a.mark((function e(){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,Ie.logout(),k.dispatch(Je()),e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",k.dispatch(Qe(e.t0)));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),Je=function(){return{type:E.LOGOUT,payload:void 0}},Qe=function(e){return{type:E.LOGOUT,payload:e}},qe=function(){var e=Object(Y.a)(V.a.mark((function e(){var t;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(Pe()),e.prev=1,e.next=4,Ie.getAll();case 4:return t=e.sent,e.abrupt("return",k.dispatch(Ve(t)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",k.dispatch(Ye(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Pe=function(){return{type:E.GET_USERS_REQUEST,payload:void 0}},Ve=function(e){return{type:E.GET_USERS_SUCCESS,payload:e}},Ye=function(e){return{type:E.GET_USERS_FAILURE,payload:e}},Be=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(ze(!0)),e.prev=1,e.next=4,Ie.update(t);case 4:return e.sent,e.abrupt("return",k.dispatch(We(t)));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",k.dispatch($e(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(e){return{type:E.EDIT_USER_REQUEST,payload:e}},We=function(e){return{type:E.EDIT_USER_SUCCESS,payload:e}},$e=function(e){return{type:E.EDIT_USER_FAILURE,payload:e}},He=function(){var e=Object(Y.a)(V.a.mark((function e(t){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.dispatch(Ke(t)),e.prev=1,Ie.delete(t),e.abrupt("return",k.dispatch(Xe(t)));case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",k.dispatch(Ze(e.t0)));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Ke=function(e){return{type:E.REMOVE_USER_REQUEST,payload:e}},Xe=function(e){return{type:E.REMOVE_USER_SUCCESS,payload:e}},Ze=function(e){return{type:E.REMOVE_USER_FAILURE,payload:e}},et=function(e){var t=Object.assign({},e);return n.a.createElement("input",t)},tt=function(e){var t=he({username:"",password:""}),a=Object(te.a)(t,2),c=a[0],i=a[1],o=Object(r.useState)(!1),s=Object(te.a)(o,2),l=s[0],u=s[1];Object(r.useEffect)((function(){Me()}),[]);return n.a.createElement("div",{className:"login-wrapper"},n.a.createElement("div",{className:"login-form"},n.a.createElement("h1",{className:"login-text"},"Supervise"),n.a.createElement("form",{name:"form",className:"form",onSubmit:function(t){t.preventDefault(),u(!0),c&&Ae(c,e.history)}},n.a.createElement("div",{className:"form-group"+(l&&!c.username?" has-error":"")},n.a.createElement(et,{id:"username",name:"username",className:"form-control",placeholder:"example@student.nhlstenden.com",value:c.username,onChange:i}),l&&!c.username&&n.a.createElement("div",{className:"help-block"},"Username is required")),n.a.createElement("div",{className:"form-group"+(l&&!c.password?" has-error":"")},n.a.createElement(et,{type:"password",id:"password",name:"password",className:"form-control",placeholder:"************",value:c.password,onChange:i}),l&&!c.password&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary"},"Login")))))},at=function(){var e=I((function(e){return e.userReducer.users})),t=Object(r.useState)(!1),a=Object(te.a)(t,2),c=a[0],i=a[1],o={id:0,firstName:"",lastName:"",username:"",password:"",role:0},s=Object(r.useState)(o),l=Object(te.a)(s,2),m=l[0],d=l[1],E=Object(r.useState)(!1),p=Object(te.a)(E,2),f=p[0],v=p[1];Object(r.useEffect)((function(){qe()}),[]),Object(r.useEffect)((function(){c||d(o)}),[c]);return n.a.createElement("section",{className:"admin-page"},n.a.createElement("form",{name:"form",className:"register-form",onSubmit:function(e){e.preventDefault(),v(!0),m&&!c?(Le(m),d(o)):Be(m)}},n.a.createElement("h2",null,"New user"),n.a.createElement("div",{className:"form-group"+(f&&!m.firstName?" has-error":"")},n.a.createElement("label",{htmlFor:"firstName"},"First Name"),n.a.createElement(et,{id:"firstName",name:"firstName",className:"form-control",value:m.firstName,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{firstName:t.value}))}}),f&&!m.firstName&&n.a.createElement("div",{className:"help-block"},"First Name is required")),n.a.createElement("div",{className:"form-group"+(f&&!m.lastName?" has-error":"")},n.a.createElement("label",{htmlFor:"lastName"},"Last Name"),n.a.createElement(et,{id:"lastName",name:"lastName",className:"form-control",value:m.lastName,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{lastName:t.value}))}}),f&&!m.lastName&&n.a.createElement("div",{className:"help-block"},"Last Name is required")),n.a.createElement("div",{className:"form-group"+(f&&!m.username?" has-error":"")},n.a.createElement("label",{htmlFor:"username"},"Username"),n.a.createElement(et,{id:"username",name:"username",className:"form-control",value:m.username,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{username:t.value}))}}),f&&!m.username&&n.a.createElement("div",{className:"help-block"},"Username is required")),n.a.createElement("div",{className:"form-group"+(f&&!m.password?" has-error":"")},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement(et,{type:"password",id:"password",name:"password",className:"form-control",value:m.password,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{password:t.value}))}}),f&&!m.password&&n.a.createElement("div",{className:"help-block"},"Password is required")),n.a.createElement("div",null,n.a.createElement("label",{htmlFor:"role"},"Role"),n.a.createElement("select",{id:"role",value:m.role,onChange:function(e){var t=e.target;return d(Object(u.a)({},m,{role:+t.value}))}},n.a.createElement("option",{value:"0"},"User"),n.a.createElement("option",{value:"1"},"Admin"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{className:"btn btn-primary"},c?"Edit":"Add new"," ",0==m.role?"User":"Admin"),c&&n.a.createElement("button",{onClick:function(){return i(!1)}},"Cancel"))),n.a.createElement("h3",null,"All registered users:"),e&&n.a.createElement("ul",null,e.map((function(e){return n.a.createElement("li",{key:e.id},n.a.createElement("a",{onClick:function(){return function(e){i(!0),d(e)}(e)}},e.firstName+" "+e.lastName+" | role: "+e.role),n.a.createElement("span",null," ","- ",n.a.createElement("a",{onClick:function(){return t=e.id,void He(t);var t}},"Delete")))}))))},rt=function(e){return n.a.createElement(o.b,{className:"entry-wrapper",to:{pathname:"/entries/".concat(e.id),state:{id:e.id,title:e.title,body:e.body,date:e.date,userId:e.userId}}},n.a.createElement("div",{className:"date"},e.date),n.a.createElement("div",{className:"entry"},n.a.createElement("div",{className:"entry-header"},n.a.createElement("div",{className:"title"},e.title),n.a.createElement("div",{className:"comments"})),n.a.createElement("div",{className:"body",dangerouslySetInnerHTML:{__html:e.body}})))},nt=function(e){var t=ge(),a=he({id:e.id,title:e.title,body:e.body,date:e.date,userId:e.userId}),c=Object(te.a)(a,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){t(X(i))}),[i.title,e.title]),n.a.createElement("div",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(et,{id:"title",placeholder:"Titel...",value:i.title,onChange:o}))))},ct=a(45),it=function(e){var t=I((function(e){return e.entryReducer.entries})),a=he({searchTerm:""}),c=Object(te.a)(a,2),i=c[0],o=c[1],s=Object(r.useState)(t),l=Object(te.a)(s,2),u=l[0],m=l[1];Object(r.useEffect)((function(){var e=t.filter((function(e){return Object.keys(e).some((function(t){if(null!==e[t]){var a=e[t].toString().toLowerCase(),r=i.searchTerm.toLowerCase();return a.includes(r)}}))}));m(e)}),[i.searchTerm]),Object(r.useEffect)((function(){m(t)}),[t]);return n.a.createElement("section",{className:"entries-page"},n.a.createElement("div",{className:"entries"},n.a.createElement("div",{className:"header"},n.a.createElement("div",{className:"left"},n.a.createElement("h1",null,"Entries"),n.a.createElement("button",{onClick:function(){e.history.push(x)}},"add new")),n.a.createElement("div",{className:"right"},n.a.createElement(et,{placeholder:"Search...",id:"searchTerm",value:i.searchTerm,onChange:o}))),n.a.createElement(ct.a,{className:"sortable",list:u,setList:m},u.map((function(e){return n.a.createElement(rt,{key:e.id,id:e.id,title:e.title,body:e.body,date:e.date,categoryId:e.categoryId,userId:e.id,searchTerm:i.searchTerm})})))),n.a.createElement("div",{className:"entries-test"},u.map((function(e){return n.a.createElement(nt,{key:e.id,id:e.id,title:e.title,body:e.body,date:e.date,categoryId:e.categoryId,userId:e.id,searchTerm:i.searchTerm})}))))},ot=a(35),st=a.n(ot),lt=(a(75),{mode:"classic",fontSize:[8,10,14,18,24,36],formats:["p","blockquote","h1","h2","h3"],colorList:[["#ff0000","#ff5e00","#ffe400","#abf200"],["#00d8ff","#0055ff","#6600ff","#ff00dd"]],buttonList:[["formatBlock","fontSize","bold","underline","fontColor","hiliteColor","outdent","indent","align","horizontalRule","list","table","link","image","video","codeView","fullScreen","showBlocks","print"]],resizingBar:!1}),ut=function(e){var t=ge(),a=e.location.state,c=a.id,i=a.title,o=a.body,s=(a.date,a.userId),l=Object(r.useState)(o),m=Object(te.a)(l,2),d=m[0],E=m[1],p=he({id:c,title:i,body:o,date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),userId:s}),f=Object(te.a)(p,2),v=f[0],b=f[1];Object(r.useEffect)((function(){var e=setTimeout((function(){return t(X(Object(u.a)({},v,{body:d})))}),1e3);return function(){clearTimeout(e)}}),[d,v.title]);return n.a.createElement("section",{className:"edit-entry"},n.a.createElement("form",{className:"entry-editor"},n.a.createElement("div",{className:"entry-form"},n.a.createElement("div",{className:"title-input"},n.a.createElement(et,{id:"title",placeholder:"Titel...",value:v.title,onChange:b})),n.a.createElement("div",{className:"body-input"},n.a.createElement(st.a,{setContents:o,setOptions:lt,onChange:function(e){return function(e){E(e)}(e)}})),n.a.createElement("button",{className:"option",type:"reset",value:"Reset",onClick:function(){t(Z(e.location.state.id)),e.history.push(D)}},"Verwijderen"))))},mt=function(e){var t=ge(),a=Object(r.useState)(""),c=Object(te.a)(a,2),i=c[0],o=c[1],s=he({id:Math.floor(1e4*Math.random()),title:"",body:"",date:(new Date).toJSON().slice(0,10).replace(/-/g,"/"),userId:13}),l=Object(te.a)(s,2),m=l[0],d=l[1];return n.a.createElement("section",{className:"edit-entry"},n.a.createElement("form",{className:"entry-editor",onSubmit:function(a){a.preventDefault(),t(K(Object(u.a)({},m,{body:i}))),e.history.push(D)}},n.a.createElement("div",{className:"entry-form"},n.a.createElement("div",{className:"title-input"},n.a.createElement(et,{id:"title",placeholder:"Titel...",value:m.title,onChange:d})),n.a.createElement("div",{className:"body-input"},n.a.createElement(st.a,{setContents:m.body,setOptions:lt,onChange:function(e){return function(e){o(e)}(e)}})),n.a.createElement("input",{className:"option",type:"submit",value:"Plaatsen"}))))},dt=function(e){return n.a.createElement("section",{className:"settings-page"},"Hallo wereld - Settings")},Et=function(){var e=I((function(e){return e.authenticationReducer.user})),t=e.username,a=e.firstName,r=e.lastName;return n.a.createElement("section",{className:"profile-page"},n.a.createElement("div",null,t),n.a.createElement("div",null,a),n.a.createElement("div",null,r),n.a.createElement("div",null,"password"),n.a.createElement("div",null,"repeat password"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));!function(){var e=window.fetch;window.fetch=function(t,a){return new Promise((function(r,n){setTimeout((function(){if(t.endsWith("/users/authenticate")&&"POST"===a.method){var c=JSON.parse(a.body),i=d.filter((function(e){return e.username===c.username&&e.password===c.password}));if(i.length){var o=i[0],s={id:o.id,username:o.username,firstName:o.firstName,lastName:o.lastName,token:"fake-jwt-token"};r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(s))}})}else n("Username or password is incorrect")}else if(t.endsWith("/users")&&"GET"===a.method)a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization?r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(d))}}):n("Unauthorised");else if(t.match(/\/users\/\d+$/)&&"GET"===a.method)if(a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization){var l=t.split("/"),E=parseInt(l[l.length-1]),p=d.filter((function(e){return e.id===E})),f=p.length?p[0]:null;r({ok:!0,text:function(){return JSON.stringify(f)}})}else n("Unauthorised");else{if(t.endsWith("/users/register")&&"POST"===a.method){var v=JSON.parse(a.body);return d.filter((function(e){return e.username===v.username})).length?void n('Username "'+v.username+'" is already taken'):(v.id=d.length?Math.max.apply(Math,Object(m.a)(d.map((function(e){return e.id}))))+1:1,d.push(v),localStorage.setItem("users",JSON.stringify(d)),void r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(v))}}))}if(t.match(/\/users\/\d+$/)&&"PUT"===a.method){var b=JSON.parse(a.body);if(d.filter((function(e){if(e.id!==b.id)return e.username===b.username})).length)return void n('Username "'+b.username+'" is already taken');var y=d.map((function(e){return e.id===b.id?Object(u.a)({},e,{},b):e}));return d=y,localStorage.setItem("users",JSON.stringify(d)),void r({ok:!0,text:function(){return Promise.resolve(JSON.stringify(d))}})}if(t.match(/\/users\/\d+$/)&&"DELETE"===a.method)if(a.headers&&"Bearer fake-jwt-token"===a.headers.Authorization){for(var S=t.split("/"),h=parseInt(S[S.length-1]),N=0;N<d.length;N++){if(d[N].id===h){d.splice(N,1),localStorage.setItem("users",JSON.stringify(d));break}}r({ok:!0,text:function(){return Promise.resolve()}})}else n("Unauthorised");else e(t,a).then((function(e){return r(e)}))}}),500)}))}}(),i.a.render(n.a.createElement(l.a,{store:k},n.a.createElement(o.a,null,n.a.createElement(s.d,null,n.a.createElement(ye,{exact:!0,path:A,component:_e,layout:ve}),n.a.createElement(ye,{exact:!0,path:M,component:at,layout:ve}),n.a.createElement(Se,{exact:!0,path:D,component:it,layout:ve}),n.a.createElement(Se,{exact:!0,path:x,component:mt,layout:ve}),n.a.createElement(Se,{exact:!0,path:F,component:ut,layout:ve}),n.a.createElement(Se,{exact:!0,path:Q,component:dt,layout:ve}),n.a.createElement(Se,{exact:!0,path:q,component:Et,layout:ve}),n.a.createElement(ye,{exact:!0,path:J,component:tt,layout:ee})))),document.getElementById("root")),W(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.4831f40c.chunk.js.map